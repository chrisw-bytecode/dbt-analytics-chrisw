version: 2
sources:
  - name: thelook
    database: bigquery-public-data
    schema: thelook_ecommerce
    tables:
      - name: distribution_centers
        columns:
          - name: id
            tests: &required_tests
              - unique
              - not_null
      - name: events
        columns:
          - name: id
            tests: *required_tests
          - name: traffic_source
            tests:
              - dbt_expectations.expect_column_to_exist
              - accepted_values:
                  values:
                    - Adwords
                    - YouTube
                    - Email
                    - Facebook
                    - Organic
      - name: inventory_items
        columns:
          - name: id
            tests:
              - unique
              - not_null
      - name: order_items
        columns:
          - name: id
            tests:
              - unique
              - not_null
      - name: orders
        columns:
          - name: order_id
            tests:
              - unique
              - not_null
          - name: status
            tests:
              - accepted_values:
                  values:
                    - Cancelled
                    - Complete
                    - Processing
                    - Returned
                    - Shipped
      - name: products
        columns:
          - name: id
            tests:
              - unique
              - not_null
      - name: users
        columns:
          - name: id
            tests:
              - unique
              - not_null